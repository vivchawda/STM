STMicroelectronics list file postprocessor v1.01   (C)2009-2015   Sat Jun 13 20:00:30 2015
Page 1  Assembler
                                               d:\stm\blink_test\main.asm

   1                         stm8/     
   2                         
   0  000000                                 #include "mapping.inc" 
   1                                                          ;-------------------------------
                                                                ;-----------------------
   2                                                          ; SEGMENT MAPPING FILE 
                                                                ;AUTOMATICALLY GENERATED BY 
                                                                ;STVD
   3                                                          ; SHOULD NOT BE MANUALLY 
                                                                ;MODIFIED.
   4                                                          ; CHANGES WILL BE LOST WHEN FILE
                                                                ; IS REGENERATED.
   5                                                          ;-------------------------------
                                                                ;-----------------------
   6  000000                                 #define  RAM0 1
   7  000000                                 #define  ram0_segment_start 0
   8  000000                                 #define  ram0_segment_end FF
   9  000000                                 #define  RAM1 1
  10  000000                                 #define  ram1_segment_start 100
  11  000000                                 #define  ram1_segment_end 1FF
  12  000000                                 #define  stack_segment_start 200
  13  000000                                 #define  stack_segment_end 3FF
<END_OF_INCLUSION>
   4                         
   5                                   segment  'rom'
   6                         
   7                         start     
   8  008080   AE03FF                        ldw      X,#$3FF       ; initialize SP
   9  008083   94                            ldw      SP,X
  10                         
  11  008084   AE0000                        ldw      X,#$0         ; clear all the ram
  12                         clear_ram  
  13  008087   7F                            clr      (X)
  14  008088   5C                            incw     X
  15  008089   A303FF                        cpw      X,#$3FF
  16  00808C   23F9                          jrule    clear_ram
  17                                   
  18  00808E   721E500C                      bset     $500C,#7      ; init our program
  19                         loop_forever  
  20  008092   AEFFFF                        ldw      X,#$FFFF 
  21                         loop_delay  
  22  008095   9D                            nop      
  23  008096   5A                            decw     X
  24  008097   26FC                          jrne     loop_delay
  25  008099   901E500C                      bcpl     $500C,#7 
  26  00809D   20F3                          jra      loop_forever
  27                         
  28                         
  29                         ; the default interupt handler
  30  00809F                                 interrupt NonHandledInterrupt
  31                         NonHandledInterrupt  
  32  00809F   80                            iret     
  33                         
  34                         ; the interupt table
  35                                   segment  'vectit'
  36  008000   82008080                      dc.l     {$82000000+start}   ; reset
  37  008004   8200809F                      dc.l     {$82000000+NonHandledInterrupt}   ; trap
  38  008008   8200809F                      dc.l     {$82000000+NonHandledInterrupt}   ; irq0
STMicroelectronics list file postprocessor v1.01   (C)2009-2015   Sat Jun 13 20:00:30 2015
Page 2  Assembler
                                               d:\stm\blink_test\main.asm

  39  00800C   8200809F                      dc.l     {$82000000+NonHandledInterrupt}   ; irq1
  40  008010   8200809F                      dc.l     {$82000000+NonHandledInterrupt}   ; irq2
  41  008014   8200809F                      dc.l     {$82000000+NonHandledInterrupt}   ; irq3
  42  008018   8200809F                      dc.l     {$82000000+NonHandledInterrupt}   ; irq4
  43  00801C   8200809F                      dc.l     {$82000000+NonHandledInterrupt}   ; irq5
  44  008020   8200809F                      dc.l     {$82000000+NonHandledInterrupt}   ; irq6
  45  008024   8200809F                      dc.l     {$82000000+NonHandledInterrupt}   ; irq7
  46  008028   8200809F                      dc.l     {$82000000+NonHandledInterrupt}   ; irq8
  47  00802C   8200809F                      dc.l     {$82000000+NonHandledInterrupt}   ; irq9
  48  008030   8200809F                      dc.l     {$82000000+NonHandledInterrupt}   ; irq10
  49  008034   8200809F                      dc.l     {$82000000+NonHandledInterrupt}   ; irq11
  50  008038   8200809F                      dc.l     {$82000000+NonHandledInterrupt}   ; irq12
  51  00803C   8200809F                      dc.l     {$82000000+NonHandledInterrupt}   ; irq13
  52  008040   8200809F                      dc.l     {$82000000+NonHandledInterrupt}   ; irq14
  53  008044   8200809F                      dc.l     {$82000000+NonHandledInterrupt}   ; irq15
  54  008048   8200809F                      dc.l     {$82000000+NonHandledInterrupt}   ; irq16
  55  00804C   8200809F                      dc.l     {$82000000+NonHandledInterrupt}   ; irq17
  56  008050   8200809F                      dc.l     {$82000000+NonHandledInterrupt}   ; irq18
  57  008054   8200809F                      dc.l     {$82000000+NonHandledInterrupt}   ; irq19
  58  008058   8200809F                      dc.l     {$82000000+NonHandledInterrupt}   ; irq20
  59  00805C   8200809F                      dc.l     {$82000000+NonHandledInterrupt}   ; irq21
  60  008060   8200809F                      dc.l     {$82000000+NonHandledInterrupt}   ; irq22
  61  008064   8200809F                      dc.l     {$82000000+NonHandledInterrupt}   ; irq23
  62  008068   8200809F                      dc.l     {$82000000+NonHandledInterrupt}   ; irq24
  63  00806C   8200809F                      dc.l     {$82000000+NonHandledInterrupt}   ; irq25
  64  008070   8200809F                      dc.l     {$82000000+NonHandledInterrupt}   ; irq26
  65  008074   8200809F                      dc.l     {$82000000+NonHandledInterrupt}   ; irq27
  66  008078   8200809F                      dc.l     {$82000000+NonHandledInterrupt}   ; irq28
  67  00807C   8200809F                      dc.l     {$82000000+NonHandledInterrupt}   ; irq29
  68                         
  69  008080                                 end      
STMicroelectronics list file postprocessor v1.01   (C)2009-2015   Sat Jun 13 20:00:30 2015
Page 3  Assembler
                                               d:\stm\blink_test\main.asm

Symbol Name                       Value     Call       Type  Scope      Rel.  Line  Privacy  Segment   Size  Bytes File

NonHandledInterrupt                   809F  interrupt  WORD  Internal   ABS     31  private  text         1     0  -

clear_ram                             8087         no  WORD  Internal   ABS     12  private  text        11     0  -

loop_forever                          8092         no  WORD  Internal   ABS     19  private  text         3     0  -
loop_delay                            8095         no  WORD  Internal   ABS     21  private  text        10     0  -

start                                 8080         no  WORD  Internal   ABS      7  private  text         7     0  -


5 labels
No errors on assembly of 'd:\stm\blink_test\main.asm'